<!DOCTYPE html>
<html>
  <head>
    <title>想SING音樂售票系統 - 會員</title>
    <link href="../styles/reset.css" rel="stylesheet" />
    <link href="../styles/header.css" rel="stylesheet" />
    <link href="../styles/profile.css" rel="stylesheet" />
    <link href="../styles/signin_signup.css" rel="stylesheet" />
    <link href="../styles/footer.css" rel="stylesheet" />
    <script src="jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.1.9/sweetalert2.all.js"></script>
  </head>

  <body>
    <div class="wrapper">
      <header>
        <div class="desktop-header">
          <a href="/index.html" class="logo tag-all">
            <img
              src="./images/logo/logo_green.png"
              alt="想SING音樂售票系統"
              height="80"
            />
          </a>

          <input type="text" class="search" />

          <a class="cart" href="/shoppingCart.html">
            <img src="./images/logo/cart.png" height="44" />
          </a>

          <a class="order" href="/orderTracking.html">
            <img src="./images/logo/order.png" height="44" />
          </a>

          <a href="/profile.html" class="member">
            <img src="./images/logo/member.png" height="44" />
          </a>
        </div>
      </header>

      <main>
        <div id="userform" hidden></div>
        <div class="profile">
          <div class="profile_image_block">
            <img id="profile_image" src="" alt="profile_image" hidden />
          </div>
          <div class="profile_user_info">
            <div id="user_name" hidden></div>
            <div id="user_phone" hidden></div>
            <div id="user_email" hidden></div>
          </div>
        </div>

        <div id="log-out-button">
          <input
            type="button"
            id="log-out"
            onclick="logOut()"
            name="log-out"
            value="Log Out"
            hidden
          />
        </div>

        <form
          action="/api/1.0/user/signup"
          method="post"
          name="formSignUp"
          id="formSignUp"
          class="formSignUp"
          hidden
        >
          <h2 class="signup">Sign Up</h2>
          <hr class="line-style" />
          <div class="form-content-style">
            <label>Name</label>
            <input
              type="text"
              id="name_signup"
              name="name"
              required="required"
            /><br />
            <label>Email</label>
            <input
              type="email"
              id="email_signup"
              name="email"
              required="required"
            /><br />
            <label>Phone</label>
            <input
              type="phone"
              id="phone_signup"
              name="phone"
              required="required"
            /><br />
            <label
              >Password
              <pre id="password-notice"> ( At least 5 codes ) </pre>
            </label>
            <input
              type="text"
              id="password_signup"
              name="password"
              required="required"
            /><br />
          </div>
          <input
            type="button"
            id="signUpButton"
            onclick="signUp()"
            name="signup"
            value="Sign Up"
          />
        </form>
        <div id="add-signin-block">
          Already have an account?
          <div id="add-signin-link" onclick="ShowSignIn()">Sign In</div>
        </div>

        <form
          action="/api/1.0/user/signin"
          method="post"
          name="formSignIn"
          id="formSignIn"
          class="formSignIn"
          hidden
        >
          <h2 class="signin">Sign In</h2>
          <hr class="line-style" />
          <div class="form-content-style">
            <label>Email </label>
            <input
              type="email"
              id="email_signin"
              name="email"
              value="user1@gmail.com"
              required="required"
            /><br />
            <label>Password </label>
            <input
              type="text"
              id="password_signin"
              name="password"
              value="12345"
              required="required"
            /><br />
          </div>

          <input
            type="button"
            id="signInButton"
            onclick="signIn()"
            name="signin"
            value="Sign In"
          />
        </form>
        <div id="add-signup-block">
          Need an account?
          <div id="add-signup-link" onclick="ShowSignUp()">Sign Up</div>
        </div>
      </main>
    </div>
    <footer>
      <nav>
        <ul>
          <li><a href="/">關於 想SING</a></li>
          <li class="contact-info">
            聯絡我們 Email：siangsing.music@gmail.com
          </li>
        </ul>
      </nav>
      <div class="rights">© 2021. All rights reserved.</div>
    </footer>
    <script src="../JS/profile.js"></script>
    <script src="../JS/signinSignup.js"></script>
    <script>
      $(document).keyup(function (e) {
        if ($(".search").is(":focus") && e.keyCode == 13) {
          const search = $(".search").val();
          window.location.assign(`./?tag=${search}`);
        }
      });

      let urlParams = new URLSearchParams(window.location.search);
      let keyword = urlParams.get("tag");
      if (keyword) {
        $.getScript("../JS/search.js");
      }
    </script>
  </body>
</html>
